(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{108:function(e,t,r){},109:function(e,t,r){},110:function(e,t,r){},118:function(e,t,r){},119:function(e,t,r){},186:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r(22),i=r.n(n),c=r(38),s=r.n(c),o=r(50),u=r(51),l=r(52),v=r(100),m=r(98),p=r(193),d=r(191),j=r(192),h=r(194),f=r(6),g=function(e){var t=e.errorTitle;return Object(f.jsx)(h.a,{message:"Error",description:t,type:"error",showIcon:!0})};g.defaultProps={errorTitle:""};var b=g,O=r(195),x=r(196),S=(r(108),function(e){var t=e.movieImgSrc,r=e.movieName,a=e.releaseDate,n=e.description;return Object(f.jsx)(x.a,{span:12,children:Object(f.jsxs)("div",{className:"movie",children:[Object(f.jsx)("div",{className:"img-container",children:Object(f.jsx)("img",{alt:"movieBaner",src:t})}),Object(f.jsxs)("div",{className:"movie-info",children:[Object(f.jsx)("h2",{children:r}),Object(f.jsx)("p",{className:"movie-releaseDate",children:a}),Object(f.jsxs)("ul",{className:"movieGenres",children:[Object(f.jsx)("li",{className:"movieGenres-genre",children:"Action"}),Object(f.jsx)("li",{className:"movieGenres-genre",children:"Drama"})]}),Object(f.jsx)("p",{className:"movie-description",children:n})]})]})})});S.defaultProps={movieImgSrc:"",movieName:"",releaseDate:"",description:""};var y=S,N=(r(109),function(e){var t=e.moviesData;return Object(f.jsx)("section",{className:"main",children:Object(f.jsx)(O.a,{gutter:[36,35],children:t.map((function(e){var t=e.id,r=e.movieImgSrc,a=e.movieName,n=e.releaseDate,i=e.description;return Object(f.jsx)(y,{movieImgSrc:r,movieName:a,releaseDate:n,description:i},t)}))})})});N.defaultProps={moviesData:[]};var w=N,D=r(190),k=(r(110),function(){return Object(f.jsx)("div",{className:"spinner",children:Object(f.jsx)(D.a,{size:"large"})})}),M=r(87),I=(r(118),function(e){var t=e.updateSearchString;return Object(f.jsx)("form",{children:Object(f.jsx)("input",{className:"stringRequest",type:"text",placeholder:"Type to search...",onChange:Object(M.debounce)((function(e){var r;(r=e.target.value)&&t(r)}),1e3),autoFocus:!0})})});I.defaultProps={updateSearchString:function(){}};var C=I,T=function(){function e(){Object(u.a)(this,e),this.apiBase="https://api.themoviedb.org/3/search/movie?api_key=e3fe247be4eaa72ef7d3bce48bf58608"}return Object(l.a)(e,[{key:"getResources",value:function(){var e=Object(o.a)(s.a.mark((function e(t){var r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.apiBase).concat(t));case 2:if((r=e.sent).ok){e.next=5;break}throw new Error;case 5:return e.next=7,r.json();case 7:if(0!==(a=e.sent).results.length){e.next=10;break}throw new Error;case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),E=(r(119),r.p+"static/media/no_image.f55aafa2.jpg"),P=function(e){Object(v.a)(r,e);var t=Object(m.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).mdbapiServices=new T,e.state={error:!1,total:null,searchString:"",page:1,errorTitle:"We did not find any movies for this request."},e.createMovieCard=function(e,t,r,a,n){return{id:e,movieImgSrc:t,movieName:r,releaseDate:a,description:n}},e.createMovieList=function(t,r){var a=r?t.slice(10):t.slice(0,10);a=a.map((function(t){return e.createMovieCard(t.id,"".concat(e.getImgSrc(t.poster_path)),t.original_title,"".concat(Object(p.a)(Object(d.a)(t.release_date),"MMMM d, yyyy")),"".concat(e.formatMovieDescription(t.overview)))})),e.setState({moviesData:a,loading:!1,error:!1})},e.updateSearchString=function(t){var r=e.state.page;e.setState({searchString:t}),e.updateMovieList(t,r)},e.updatePage=function(t){var r=e.state.searchString;e.updateMovieList(r,t)},e.getImgSrc=function(e){return e?"https://image.tmdb.org/t/p/w200/".concat(e):E},e.onError=function(t){"Failed to fetch"===t.message?e.setState({errorTitle:"Check your internet connection!"}):e.setState({errorTitle:"We did not find any movies for this request."}),e.setState({error:!0,total:null,loading:!1})},e.updateMovieList=function(){var t=Object(o.a)(s.a.mark((function t(r,a){var n,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({error:!1,loading:!0}),t.prev=1,n=a%2===0?a/2:(a+1)/2,t.next=5,e.mdbapiServices.getResources("&page=".concat(n,"&query=").concat(r));case 5:i=t.sent,e.createMovieList(i.results,a%2===0),e.setState({total:i.total_results}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.onError(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,r){return t.apply(this,arguments)}}(),e}return Object(l.a)(r,[{key:"formatMovieDescription",value:function(e){var t=e.split(" ");return t.length>30?"".concat(t.slice(0,30).join(" "),"..."):t.join(" ")}},{key:"render",value:function(){var e=this,t=this.state,r=t.moviesData,a=t.loading,n=t.error,i=t.total,c=t.page,s=t.errorTitle,o=!(a||n),u=a?Object(f.jsx)(k,{}):null,l=n?Object(f.jsx)(b,{errorTitle:s}):null,v=o?Object(f.jsx)(w,{moviesData:r}):null,m=i?Object(f.jsx)(j.a,{showSizeChanger:!1,defaultCurrent:c,pageSize:10,total:i,onChange:function(t){return e.updatePage(t)}}):null;return Object(f.jsxs)("section",{className:"movieApp",children:[Object(f.jsx)(C,{updateSearchString:this.updateSearchString}),u,v,l,Object(f.jsx)("div",{className:"paginator",children:m})]})}}]),r}(a.Component);r(185);i.a.render(Object(f.jsx)(P,{}),document.getElementById("root"))}},[[186,1,2]]]);
//# sourceMappingURL=main.87318d27.chunk.js.map