(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{54:function(e,t,r){},66:function(e,t,r){},67:function(e,t,r){},69:function(e,t,r){},71:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(20),i=r.n(a),s=r(21),c=r(22),o=r(46),u=r(45),l=r(78),v=r(76),m=r(77),j=r(5),d=function(){return Object(j.jsx)(m.a,{message:"Error",description:"The reqest you sent is invalid. Try again.",type:"error",showIcon:!0})},p=r(79),h=r(80),b=r(75),f=(r(54),function(){return Object(j.jsx)("div",{className:"spinner",children:Object(j.jsx)(b.a,{size:"large"})})}),g=(r(66),function(e){var t=e.movieImgSrc,r=e.movieName,n=e.releaseDate,a=e.description,i=e.loading,s=i?Object(j.jsx)(f,{}):null,c=i?null:Object(j.jsx)("img",{alt:"movieBaner",src:t});return Object(j.jsx)(h.a,{span:12,children:Object(j.jsxs)("div",{className:"movie",children:[s,c,Object(j.jsxs)("div",{className:"movie-info",children:[Object(j.jsx)("h2",{children:r}),Object(j.jsx)("p",{className:"movie-releaseDate",children:n}),Object(j.jsxs)("ul",{className:"movieGenres",children:[Object(j.jsx)("li",{className:"movieGenres-genre",children:"Action"}),Object(j.jsx)("li",{className:"movieGenres-genre",children:"Drama"})]}),Object(j.jsx)("p",{className:"movie-description",children:a})]})]})})});g.defaultProps={movieImgSrc:"",movieName:"",releaseDate:"",description:"",loading:!1};var O=g,x=(r(67),function(e){var t=e.moviesData,r=e.loading;return Object(j.jsx)("section",{className:"main",children:Object(j.jsx)(p.a,{gutter:[36,35],children:t.map((function(e){var t=e.id,n=e.movieImgSrc,a=e.movieName,i=e.releaseDate,s=e.description;return Object(j.jsx)(O,{movieImgSrc:n,movieName:a,releaseDate:i,description:s,loading:r},t)}))})})});x.defaultProps={loading:!1,moviesData:[]};var y=x,N=r(19),w=r.n(N),D=r(29),M=function(){function e(){Object(s.a)(this,e),this.apiBase="https://api.themoviedb.org/3/search/movie?api_key=e3fe247be4eaa72ef7d3bce48bf58608"}return Object(c.a)(e,[{key:"getResources",value:function(){var e=Object(D.a)(w.a.mark((function e(t){var r,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((r=e.sent).ok){e.next=5;break}throw new Error;case 5:return e.next=7,r.json();case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovies",value:function(){var e=Object(D.a)(w.a.mark((function e(t){var r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResources("".concat(this.apiBase).concat(t));case 2:return r=e.sent,e.abrupt("return",r.results);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),k=(r(69),function(e){Object(o.a)(r,e);var t=Object(u.a)(r);function r(){var e;return Object(s.a)(this,r),(e=t.call(this)).swapiServices=new M,e.state={loading:!1,error:!1},e.createMovieCard=function(e,t,r,n,a){return{id:e,movieImgSrc:t,movieName:r,releaseDate:n,description:a}},e.createMovieList=function(t){var r=t.map((function(t){return e.createMovieCard(t.id,"https://image.tmdb.org/t/p/w200/".concat(t.poster_path),t.original_title,"".concat(Object(l.a)(Object(v.a)(t.release_date),"MMMM d, yyyy")),"".concat(e.formatMovieDescription(t.overview)))}));e.setState({moviesData:r,loading:!1})},e.onError=function(t){console.log(t.message),e.setState({error:!0,loading:!1})},e.updateMovieCard("return"),e}return Object(c.a)(r,[{key:"updateMovieCard",value:function(e){this.swapiServices.getMovies("&query=".concat(e)).then(this.createMovieList).catch(this.onError)}},{key:"formatMovieDescription",value:function(e){var t=e.split(" ");return t.length>35?"".concat(t.slice(0,35).join(" "),"..."):t.join(" ")}},{key:"render",value:function(){var e=this.state,t=e.moviesData,r=e.loading,n=e.error,a=!(r||n),i=r?Object(j.jsx)(f,{}):null,s=n?Object(j.jsx)(d,{}):null,c=a?Object(j.jsx)(y,{moviesData:t,loading:r}):null;return Object(j.jsxs)("section",{className:"movieApp",children:[i,c,s]})}}]),r}(n.Component));r(70);i.a.render(Object(j.jsx)(k,{}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.3f734c51.chunk.js.map